※당연하게도 csv 파일은 전처리가 되어 있어야 통계분석이 가능함.

AI CSV 분석 챗봇 서비스 기능

1. 강력한 탐색적 데이터 분석(EDA) 기능
-자동 EDA 리포트: "AI 자동 리포트 생성" 버튼을 클릭하면 데이터 요약, 주요 통계치, 결측치 분석, 상관관계, 클러스터링, 피처 중요도, 시계열 분석 등을 포함한 종합적인 EDA 리포트를 생성합니다.
-데이터 요약: 데이터 크기(행/열 수), 데이터 정보(df.info())를 제공하여 데이터 구조를 빠르게 파악할 수 있습니다.
-주요 통계치: 평균, 표준편차, 최소값, 최대값 등을 Markdown 테이블로 깔끔하게 정리해 가독성을 높입니다.
-결측치 분석: 결측치가 있는 컬럼과 그 수를 테이블로 표시하거나, 결측치가 없으면 성공 메시지를 출력합니다.

2. 고급 분석 기능:
-K-Means 클러스터링: 수치형 데이터에 대해 군집 분석을 수행하여 데이터 패턴을 시각화합니다(Plotly 산점도).
-Random Forest 피처 중요도: 'score' 컬럼이 있을 경우, 피처 중요도를 계산해 시각화하여 데이터의 주요 영향 변수를 파악할 수 있습니다.
-KDE 플롯: 수치형 컬럼의 분포를 밀도 추정으로 시각화하여 데이터 분포를 직관적으로 이해할 수 있습니다.
-시계열 분석: 날짜 컬럼이 있는 경우, 시간에 따른 데이터 변화를 Plotly 선 그래프로 시각화합니다.

3. 대화형 AI 분석
-자연어 기반 쿼리: 사용자가 한국어로 질문(예: "컬럼 X의 평균은?")을 입력하면, LangChain과 OpenAI의 GPT-4-turbo 모델을 활용해 정확하고 자연스러운 답변을 제공합니다.
-컨텍스트 유지: 세션 상태(st.session_state.messages)를 통해 대화 기록을 유지하여, 연속적인 질문에 대해 일관된 답변을 제공합니다.
-스트리밍 응답: StreamlitCallbackHandler를 통해 AI 응답이 실시간으로 스트리밍되어, 사용자가 기다리는 동안 진행 상황을 확인할 수 있습니다.

4. 고품질 시각화
-Plotly 기반 시각화: 모든 시각화(히스토그램, KDE 플롯, 상관관계 히트맵, 클러스터링, 피처 중요도, 시계열 플롯 등)는 Plotly를 사용해 인터랙티브하고 시각적으로 깔끔한 그래프를 제공합니다.
-일관된 스타일링: plotly_white 테마와 고정된 색상 팔레트(#1f77b4, #ff7f0e, Viridis)를 사용하여 일관된 시각적 경험을 제공합니다.
-결측치 시각화: 결측치가 있을 경우, 이를 바 차트로 시각화하여 데이터 품질 문제를 쉽게 파악할 수 있습니다.

5. 성능 최적화
-캐싱: @st.cache_data와 @st.cache_resource를 활용해 CSV 파일 로딩과 에이전트 생성을 캐싱하여 반복적인 작업의 속도를 높입니다.
-메모리 관리: 파일 변경 시 이전 DataFrame을 삭제(del st.session_state.df)하여 메모리 사용을 최적화합니다.
-지연 로딩: 상관관계 히트맵 등 무거운 계산은 EDA 리포트 요청 시에만 수행되어 초기 로드 시간을 단축합니다.
-중복 방지: 고유한 chart_id와 report_id를 사용하여 Plotly 차트와 EDA 리포트의 중복 렌더링을 방지합니다(StreamlitDuplicateElementId 에러 해결).

6. 견고한 에러 처리
-파일 유효성 검사: CSV 파일이 비어 있거나 잘못된 경우, 명확한 에러 메시지를 출력하여 사용자가 문제를 쉽게 파악할 수 있습니다.
-API 키 검증: OpenAI API 키가 없거나 유효하지 않을 경우, 에이전트 초기화를 시도하기 전에 에러를 표시합니다.
-예외 처리: 분석 중 발생하는 예외(예: 잘못된 쿼리, 데이터 형식 오류 등)를 포착하여 사용자에게 친화적인 에러 메시지를 제공합니다.

7. 유연성과 확장성
-다중 파일 지원: 여러 CSV 파일을 업로드하고 선택하여 분석할 수 있어, 다양한 데이터셋을 유연하게 처리할 수 있습니다.
-대화 초기화: "대화 초기화" 버튼을 통해 세션 상태를 리셋하여 새로운 분석을 쉽게 시작할 수 있습니다.
-확장 가능한 분석: 추가적인 통계 분석(예: 다른 클러스터링 알고리즘, 고급 시계열 모델 등)을 쉽게 통합할 수 있는 모듈화된 코드 구조를 제공합니다.
